import { applyMiddleware, createStore ,compose} from "redux";



const initialState={
    count:0
}

function counter(prvState=initialState,action){
    switch(action.type){
        case "increment":
            return {...prvState,count: prvState.count+1}
        case "decrement":
            return {...prvState,count:prvState.count-1}

        default:
            return prvState


    }

}

const logger=store=>next=>action=>{
    console.log("dispatching:",action);
    let result=next(action)
    console.log("Next state: ",store.getState());
    return result
    
    
}
const composeEnhancers= window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;
const store=createStore(counter,composeEnhancers(applyMiddleware(logger)))

store.dispatch({type:"increment"})
